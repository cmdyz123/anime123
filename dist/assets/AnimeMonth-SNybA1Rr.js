import{r as l,p as $,c as x,o as D,a as n,d as t,t as c,w as J,m as L,F as p,e as _,u as O,g as i,b as V}from"./vendor-BQIWbYX8.js";import{_ as B,f as E}from"./index-C5-_rSnE.js";const T={class:"anime-list"},w={class:"header-section"},F={class:"category-filter"},P=["value"],R={class:"anime-grid"},q=["onClick"],U=["src","alt"],W={class:"anime-title"},j={class:"anime-info"},z={key:0,class:"anime-category"},G={__name:"AnimeMonth",setup(H){const u=O(),h=$(),o=l(h.params.month||"2025.10"),f=l(o.value.replace(".","年")+"月"),y=a=>{u.push({name:"AnimeDetails",params:{id:a.id},query:{anime:JSON.stringify(a)}})},C=()=>{u.push({name:"CategoryManager",params:{month:o.value}})},A=()=>{u.push({name:"MonthEditor",params:{month:o.value}})},d=l(JSON.parse(localStorage.getItem(`animeCategories${o.value}`))||[{name:"原创动画"},{name:"动画官网"},{name:"PV"},{name:"先行画面"}]),r=l(""),m=l([]),k=x(()=>r.value?m.value.filter(a=>a.category===r.value):m.value),M=()=>{console.log(`筛选分类: ${r.value}`)},S=()=>{const a=JSON.parse(localStorage.getItem(`animeCategories${o.value}`));a&&(d.value=a);const s=JSON.parse(localStorage.getItem(`animeList${o.value}`))||[],e=v=>{let N=v.map(g=>{const b=s.find(I=>I.id===g.id);return{...g,category:b?.category||""}});return E(N)};m.value=e(s)};return D(()=>{S()}),(a,s)=>(i(),n("div",T,[t("div",w,[t("h1",null,c(f.value)+" 新番",1),t("div",{class:"nav-buttons"},[t("button",{class:"nav-btn",onClick:C},"设置分类"),t("button",{class:"nav-btn",onClick:A},"动漫编辑")])]),t("div",F,[J(t("select",{"onUpdate:modelValue":s[0]||(s[0]=e=>r.value=e),onChange:M},[s[1]||(s[1]=t("option",{value:""},"所有分类",-1)),(i(!0),n(p,null,_(d.value,e=>(i(),n("option",{key:e.name,value:e.name},c(e.name),9,P))),128))],544),[[L,r.value]])]),t("div",R,[(i(!0),n(p,null,_(k.value,e=>(i(),n("div",{key:e.id,class:"anime-card",onClick:v=>y(e)},[t("img",{src:e.image,alt:e.title,class:"anime-image"},null,8,U),t("div",W,c(e.title),1),t("div",j,c(e.info),1),e.category?(i(),n("div",z,c(e.category),1)):V("",!0)],8,q))),128))])]))}},X=B(G,[["__scopeId","data-v-792dc142"]]);export{X as default};
