import{r as l,p as $,c as x,o as D,a as n,d as t,t as c,w as J,m as L,F as p,e as _,u as O,g as i,b as V}from"./vendor-5ySKIXvH.js";import{_ as B,g as E,f as P}from"./index-BVvwcoFC.js";const T={class:"anime-list"},w={class:"header-section"},F={class:"category-filter"},R=["value"],q={class:"anime-grid"},U=["onClick"],W=["src","alt"],j={class:"anime-title"},z={class:"anime-info"},G={key:0,class:"anime-category"},H={__name:"AnimeMonth",setup(K){const u=O(),h=$(),o=l(h.params.month||"2025.10"),f=l(o.value.replace(".","年")+"月"),C=a=>{u.push({name:"AnimeDetails",params:{id:a.id},query:{anime:JSON.stringify(a)}})},y=()=>{u.push({name:"CategoryManager",params:{month:o.value}})},A=()=>{u.push({name:"MonthEditor",params:{month:o.value}})},g=l(JSON.parse(localStorage.getItem(`animeCategories${o.value}`))||[{name:"原创动画"},{name:"动画官网"},{name:"PV"},{name:"先行画面"}]),r=l(""),m=l([]),k=x(()=>r.value?m.value.filter(a=>a.category===r.value):m.value),M=()=>{console.log(`筛选分类: ${r.value}`)},S=()=>{const a=JSON.parse(localStorage.getItem(`animeCategories${o.value}`));a&&(g.value=a);const s=JSON.parse(localStorage.getItem(`animeList${o.value}`))||[],e=v=>{let b=v.map(d=>{const N=s.find(I=>I.id===d.id);return{...d,category:N?.category||"",image:E(d.image)}});return P(b)};m.value=e(s)};return D(()=>{S()}),(a,s)=>(i(),n("div",T,[t("div",w,[t("h1",null,c(f.value)+" 新番",1),t("div",{class:"nav-buttons"},[t("button",{class:"nav-btn",onClick:y},"设置分类"),t("button",{class:"nav-btn",onClick:A},"动漫编辑")])]),t("div",F,[J(t("select",{"onUpdate:modelValue":s[0]||(s[0]=e=>r.value=e),onChange:M},[s[1]||(s[1]=t("option",{value:""},"所有分类",-1)),(i(!0),n(p,null,_(g.value,e=>(i(),n("option",{key:e.name,value:e.name},c(e.name),9,R))),128))],544),[[L,r.value]])]),t("div",q,[(i(!0),n(p,null,_(k.value,e=>(i(),n("div",{key:e.id,class:"anime-card",onClick:v=>C(e)},[t("img",{src:e.image,alt:e.title,class:"anime-image"},null,8,W),t("div",j,c(e.title),1),t("div",z,c(e.info),1),e.category?(i(),n("div",G,c(e.category),1)):V("",!0)],8,U))),128))])]))}},Y=B(H,[["__scopeId","data-v-5e83b404"]]);export{Y as default};
